{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap aa3e14c3ab479357af90","webpack:///./src/redux-decorators.ts","webpack:///./src/reducer.decorator.ts","webpack:///./src/state.decorator.ts","webpack:///./src/store.decorator.ts","webpack:///external \"redux\"","webpack:///./src/initial-state.decorator.ts"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,sBAAsB;AACrD,0EAAyE,+BAA+B,EAAE;AAC1G;AACA,mEAAkE,qEAAqE,EAAE;AACzI;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,qBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACnFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iCAAgC,gCAAgC;AAChE;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,qBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,6BAA4B,uBAAuB;AACnD;AACA;AACA,qCAAoC,2BAA2B;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC/DA,mC;;;;;;ACAA;AACA;AACA;AACA;AACA,+BAA8B;AAC9B;AACA","file":"./dist/redux-decorators.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"redux\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"redux\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReduxDecorators\"] = factory(require(\"redux\"));\n\telse\n\t\troot[\"ReduxDecorators\"] = factory(root[\"redux\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_4__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap aa3e14c3ab479357af90\n **/","/// <reference path=\"../typings/tsd.d.ts\" />\nvar reducer_decorator_1 = require('./reducer.decorator');\nexports.Reducer = reducer_decorator_1.Reducer;\nvar state_decorator_1 = require('./state.decorator');\nexports.State = state_decorator_1.State;\nvar store_decorator_1 = require('./store.decorator');\nexports.Store = store_decorator_1.Store;\nvar initial_state_decorator_1 = require('./initial-state.decorator');\nexports.InitialState = initial_state_decorator_1.InitialState;\n// reducer decorator module exports\n// state decorator module exports\n// store decorator module exports\n// initial-state decorator module exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/redux-decorators.ts\n ** module id = 0\n ** module chunks = 0\n **/","var rootReducer;\nvar initialState = {};\nvar actionReducers = [];\n//------------------------------------------------------------------------------\n// Initial state\n//------------------------------------------------------------------------------\nfunction setInitialState(state) {\n    initialState = state;\n}\nexports.setInitialState = setInitialState;\n//------------------------------------------------------------------------------\n// Root reducer\n//------------------------------------------------------------------------------\nfunction setReducer(reducer) {\n    rootReducer = reducer;\n}\nexports.setReducer = setReducer;\nfunction getReducer() {\n    return rootReducer || DefaultReducer.prototype.reducer;\n}\nexports.getReducer = getReducer;\nvar DefaultReducer = (function () {\n    function DefaultReducer() {\n    }\n    DefaultReducer.prototype.reducer = function (state, action) {\n        if (state === void 0) { state = initialState; }\n        var filteredActionReducers = actionReducers.filter(function (r) { return r.type === action.type; });\n        if (filteredActionReducers.length) {\n            return filteredActionReducers.reduce(function (s, r) { return Object.assign(s, r.method.apply(r, [s].concat(action.data))); }, state);\n        }\n        return state;\n    };\n    return DefaultReducer;\n})();\nexports.DefaultReducer = DefaultReducer;\n//------------------------------------------------------------------------------\n// Action reducers\n//------------------------------------------------------------------------------\nfunction addActionReducer(type, fn) {\n    actionReducers.push({\n        type: type,\n        method: fn\n    });\n}\nexports.addActionReducer = addActionReducer;\nfunction getActionReducers() {\n    return actionReducers;\n}\nexports.getActionReducers = getActionReducers;\nfunction removeActionReducers() {\n    actionReducers = [];\n}\nexports.removeActionReducers = removeActionReducers;\n//------------------------------------------------------------------------------\n// Decorator\n//------------------------------------------------------------------------------\nvar handleActionReducer = function (target, method) {\n    addActionReducer(method, target[method]);\n};\nvar handleRootReducer = function (target, methods) {\n    if (target.prototype.reducer) {\n        rootReducer = target.prototype.reducer;\n    }\n    actionReducers = actionReducers.concat(methods.map(function (m) {\n        return {\n            type: m,\n            method: target.prototype[m]\n        };\n    }));\n};\nfunction Reducer() {\n    var methods = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        methods[_i - 0] = arguments[_i];\n    }\n    return function (target, method) {\n        if (!target.prototype) {\n            handleActionReducer(target, method);\n            return;\n        }\n        handleRootReducer(target, methods);\n    };\n}\nexports.Reducer = Reducer;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/reducer.decorator.ts\n ** module id = 1\n ** module chunks = 0\n **/","function State() {\n    return function (target) {\n        console.log('@State: ', target);\n        if (target.stateProperties === undefined) {\n            target.stateProperties = [];\n        }\n        var args = Array.prototype.slice.call(arguments);\n        args.shift();\n        target.stateProperties = target.stateProperties.concat(args);\n    };\n}\nexports.State = State;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/state.decorator.ts\n ** module id = 2\n ** module chunks = 0\n **/","var redux_1 = require('redux');\nvar reducer_decorator_1 = require('./reducer.decorator');\nvar appStore;\nfunction getStore() {\n    if (!appStore) {\n        appStore = new Promise(function (resolve) {\n            var interval = setInterval(function () {\n                if (reducer_decorator_1.getReducer()) {\n                    clearInterval(interval);\n                    resolve(redux_1.createStore(reducer_decorator_1.getReducer()));\n                }\n            });\n        });\n    }\n    return appStore;\n}\nexports.getStore = getStore;\n// @Test export\nfunction updateComponentProperties(component, state, properties) {\n    if (properties === void 0) { properties = 'stateProperties'; }\n    component[properties].forEach(function (prop) {\n        component[prop] = state[prop];\n    });\n}\nexports.updateComponentProperties = updateComponentProperties;\nfunction Store() {\n    var stateProperties = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        stateProperties[_i - 0] = arguments[_i];\n    }\n    return function (target) {\n        var existingNgOnInit = target.prototype.ngOnInit;\n        var existingNgOnDestroy = target.prototype.ngOnDestroy;\n        if (target.prototype.stateProperties === undefined) {\n            target.prototype.stateProperties = [];\n        }\n        target.prototype.stateProperties = target.prototype.stateProperties.concat(stateProperties);\n        target.prototype.ngOnInit = function () {\n            var _this = this;\n            var storeUpdateHandler = function () {\n                updateComponentProperties(_this, _this.appStore.getState());\n            };\n            getStore().then(function (appStore) {\n                _this.appStore = appStore;\n                _this.unsubscribe = _this.appStore.subscribe(storeUpdateHandler);\n                // Apply the default state to all listeners\n                storeUpdateHandler();\n            });\n            !existingNgOnInit || existingNgOnInit();\n        };\n        target.prototype.dispatch = function (action) {\n            var data = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                data[_i - 1] = arguments[_i];\n            }\n            this.appStore.dispatch({ type: action, data: data });\n        };\n        target.prototype.ngOnDestroy = function () {\n            this.unsubscribe();\n            !existingNgOnDestroy || existingNgOnDestroy();\n        };\n    };\n}\nexports.Store = Store;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/store.decorator.ts\n ** module id = 3\n ** module chunks = 0\n **/","module.exports = require(\"redux\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"redux\"\n ** module id = 4\n ** module chunks = 0\n **/","var reducer_decorator_1 = require('./reducer.decorator');\nfunction InitialState(initialState) {\n    reducer_decorator_1.setInitialState(initialState);\n    console.log('@InitialState: ', initialState);\n    return function (target) { };\n}\nexports.InitialState = InitialState;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/initial-state.decorator.ts\n ** module id = 5\n ** module chunks = 0\n **/"],"sourceRoot":""}