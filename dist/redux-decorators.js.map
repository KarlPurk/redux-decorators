{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap c6e36f3477ca087c09d2","webpack:///./src/redux-decorators.ts","webpack:///./src/reducer.decorator.ts","webpack:///./src/state.decorator.ts","webpack:///./src/store.decorator.ts","webpack:///external \"redux\"","webpack:///./src/initial-state.decorator.ts"],"names":["setInitialState","getReducer","DefaultReducer","DefaultReducer.constructor","DefaultReducer.reducer","Reducer","State","getStore","Store","InitialState"],"mappings":"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","file":"./dist/redux-decorators.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"redux\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"redux\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReduxDecorators\"] = factory(require(\"redux\"));\n\telse\n\t\troot[\"ReduxDecorators\"] = factory(root[\"redux\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_4__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap c6e36f3477ca087c09d2\n **/","/// <reference path=\"../typings/tsd.d.ts\" />\n\nimport {Reducer, setInitialState, IReducer, getReducer} from './reducer.decorator';\nimport {State} from './state.decorator';\nimport {IStore, Store, getStore} from './store.decorator';\nimport {InitialState} from './initial-state.decorator';\n\n// reducer decorator module exports\nexport {IReducer};\nexport {Reducer};\n\n// state decorator module exports\nexport {State};\n\n// store decorator module exports\nexport {Store};\nexport {IStore};\n\n// initial-state decorator module exports\nexport {InitialState};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/redux-decorators.ts\n **/","let reducer;\nlet reducerInitialState = {};\nlet reducers = [];\n\nexport function setInitialState(initialState) {\n    reducerInitialState = initialState;\n}\n\nexport function getReducer() {\n    return reducer || DefaultReducer.prototype.reducer;\n}\n\nexport interface IReducer {\n    reducer(state, action);\n}\n\nclass DefaultReducer implements IReducer {\n    reducer(state = reducerInitialState, action) {\n        let actionReducers = reducers.filter((r) => r.type === action.type);\n        if (actionReducers.length) {\n            return actionReducers.reduce((s, r) => Object.assign(s, r.method(s, ...action.data)),  state);\n        }\n        return state;\n    }\n}\n\nlet handleActionReducer = function(target, methods) {\n    reducers.push({\n        type: methods[0],\n        method: target[methods[0]]\n    });\n}\nlet handleRootReducer = function(target, methods) {\n    if (target.prototype.reducer) {\n        reducer = target.prototype.reducer;\n    }\n    reducers = reducers.concat(methods.map((m) => { return {\n        type: m,\n        method: target.prototype[m]\n    }}));\n}\n\nexport function Reducer(...methods) {\n    return function(target) {\n        if (!target.prototype) {\n            handleActionReducer(target, methods);\n            return;\n        }\n        handleRootReducer(target, methods);\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducer.decorator.ts\n **/","\nexport function State() {\n    return function(target) {\n        console.log('@State: ', target);\n        if (target.stateProperties === undefined) {\n                target.stateProperties = [];\n        }\n        var args = Array.prototype.slice.call(arguments);\n        args.shift();\n        target.stateProperties = target.stateProperties.concat(args);\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/state.decorator.ts\n **/","import {createStore} from 'redux';\nimport {getReducer} from './reducer.decorator';\n\nlet appStore;\n\nexport function getStore() {\n    if (!appStore) {\n        appStore = new Promise((resolve) => {\n            var interval = setInterval(() => {\n                if (getReducer()) {\n                    clearInterval(interval);\n                    resolve(createStore(getReducer()));\n                }\n            });\n        });\n    }\n    return appStore;\n}\n\nexport interface IStore {\n    appStore;\n    stateProperties;\n    unsubscribe;\n    dispatch(action);\n}\n\nexport function Store(...properties) {\n    var stateProperties = Array.prototype.slice.call(arguments);\n    return function(target) {\n        console.log('@Store: ', target);\n        var existingNgOnInit = target.prototype.ngOnInit;\n        var existingNgOnDestroy = target.prototype.ngOnDestroy;\n        if (target.prototype.stateProperties === undefined) {\n            target.prototype.stateProperties = [];\n        }\n        target.prototype.stateProperties = target.prototype.stateProperties.concat(stateProperties);\n        target.prototype.ngOnInit = function() {\n            let storeUpdateHandler = () => {\n                let state = this.appStore.getState( );\n                this.stateProperties.forEach((prop) => {\n                    this[prop] = state[prop];\n                });\n            };\n            getStore().then((appStore) => {\n                this.appStore = appStore;\n                this.unsubscribe = this.appStore.subscribe(storeUpdateHandler);\n                // Apply the default state to all listeners\n                storeUpdateHandler();\n            });\n            !existingNgOnInit || existingNgOnInit();\n        }\n        target.prototype.dispatch = function(action, ...data) {\n            this.appStore.dispatch({type: action, data: data});\n        };\n        target.prototype.ngOnDestroy = function() {\n            this.unsubscribe();\n            !existingNgOnDestroy || existingNgOnDestroy();\n        }\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/store.decorator.ts\n **/","module.exports = require(\"redux\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"redux\"\n ** module id = 4\n ** module chunks = 0\n **/","import {setInitialState} from './reducer.decorator';\n\nexport function InitialState(initialState: any) {\n    setInitialState(initialState);\n    console.log('@InitialState: ', initialState);\n    return function(target: any) {}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/initial-state.decorator.ts\n **/"],"sourceRoot":""}